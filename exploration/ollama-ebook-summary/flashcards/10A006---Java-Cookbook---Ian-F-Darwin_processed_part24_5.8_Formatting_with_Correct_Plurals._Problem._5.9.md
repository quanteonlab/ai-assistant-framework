# Flashcards: 10A006---Java-Cookbook---Ian-F-Darwin_processed (Part 24)

**Starting Chapter:** 5.8 Formatting with Correct Plurals. Problem. 5.9 Generating Random Numbers

---

#### Formatting Plurals with Conditional Statements
In Java, when you need to format plurals correctly based on a number (e.g., "1 item" vs. "multiple items"), using conditional statements can help achieve grammatically correct output.

:p How do you handle pluralization in strings conditionally in Java?
??x
To handle pluralization conditionally in Java, you can use the ternary operator within string concatenation or a simple if-else statement to append 's' to the noun based on the value of `n`. Here’s an example using the ternary operator:
```java
public class FormatPlurals {
    public static void main(String[] argv) {
        report(0);
        report(1);
        report(2);
    }

    /** Report - using conditional operator */
    public static void report(int n) {
        System.out.println("We used " + n + " item" + (n == 1 ? "" : "s"));
    }
}
```
This example checks if `n` is equal to 1. If true, it prints just "item"; otherwise, it appends "s".

x??

---

#### Using ChoiceFormat for Pluralization
Java’s `ChoiceFormat` can be used to format plurals based on a set of rules and values. It allows more complex scenarios beyond simple if-else statements.

:p How does the `ChoiceFormat` work in Java?
??x
The `ChoiceFormat` works by mapping specific values or ranges to corresponding string formats. For instance, you can define different outputs for numbers 0, 1, and 2. Here is an example of using `ChoiceFormat`:
```java
public class FormatPluralsChoice extends FormatPlurals {
    // ChoiceFormat to just give pluralized word
    static double[] limits = {0, 1, 2};
    static String[] formats = {"reviews", "review", "reviews"};
    static ChoiceFormat pluralizedFormat = new ChoiceFormat(limits, formats);

    public static void main(String[] argv) {
        System.out.println("Pluralized Format");
        for (int i : data) {
            System.out.println("Found " + i + " " + pluralizedFormat.format(i));
        }
    }
}
```
In this example, `pluralizedFormat` handles the following:
- 0: prints "reviews"
- 1: prints "review"
- 2 and above: prints "reviews"

x??

---

#### ChoiceFormat for Quantified English Text
ChoiceFormat can also be used to generate quantified text in natural language. This is useful for generating human-readable output based on number values.

:p How does the `ChoiceFormat` handle quantification?
??x
The `ChoiceFormat` handles quantification by mapping specific numbers or ranges of numbers to corresponding string formats, often used in English sentences. Here’s an example:
```java
public class FormatPluralsChoice extends FormatPlurals {
    // ChoiceFormat to give English text version, quantified
    static ChoiceFormat quantizedFormat = new ChoiceFormat(
            "0#no reviews|1#one review|1<many reviews");

    public static void main(String[] argv) {
        System.out.println("Quantized Format");
        for (int i : data) {
            System.out.println("Found " + quantizedFormat.format(i));
        }
    }
}
```
In this example, `quantizedFormat` handles the following:
- 0: prints "no reviews"
- 1: prints "one review" or "many reviews" depending on the format rules (default to "many reviews")
- 2 and above: prints "many reviews"

x??

---

---
#### Generating Random Numbers Using Math.random()
Background context: In Java, generating random numbers can be done using `Math.random()`. This method is part of the `java.lang.Math` class and returns a pseudorandom double value between 0.0 (inclusive) and 1.0 (exclusive). It's important to note that these values are not true randomness but rather generated by an algorithm, making them suitable for casual use cases.

:p What does the `Math.random()` method generate?
??x
`Math.random()` generates a pseudorandom double value between 0.0 and 1.0 (exclusive).
x??

---
#### Using java.util.Random for Integer Random Numbers
Background context: For generating random integers, you need to create an instance of `java.util.Random`. This class provides various methods such as `nextInt(int bound)` which returns a pseudorandom, uniformly distributed int value between 0 (inclusive) and the specified value (exclusive).

:p How do you generate random integers using `Random`?
??x
To generate random integers, use the `nextInt(int bound)` method from `java.util.Random`. The parameter `bound` defines the upper limit for the generated integer values. For example, to get integers between 1 and 10 (inclusive), you would call `r.nextInt(10) + 1`.
x??

---
#### Testing Randomness with Statistical Tools
Background context: To ensure that random number generators produce truly random numbers, statistical tests can be applied. Using Unix tools like `sort` and `uniq`, we can analyze the distribution of generated values.

:p How did you verify the randomness of your generated integers?
??x
By running a program to generate 1000 random integers between 1 and 10 using `Random.nextInt(10) + 1`, then sorting and counting unique occurrences with Unix commands (`sort | uniq -c | sort -k 2 -n`), we can observe if each value is chosen approximately the same number of times. This method helps in understanding the distribution but does not provide a rigorous statistical test.
x??

---
#### Using Different Random Number Distributions
Background context: Apart from `nextInt()`, other methods like `nextBoolean()` and `nextDouble()` are available to generate different types of random numbers. For more complex distributions, such as Gaussian (normal) distributions, the `nextGaussian()` method can be used.

:p How does the `nextGaussian()` method work?
??x
The `nextGaussian()` method generates a pseudorandom double value following the normal distribution with mean 0 and standard deviation 1. It returns values that are more likely to cluster around zero, forming a bell-shaped curve.
x??

---
#### Controlling Randomness with Seeds
Background context: In scenarios where reproducibility is required, you can set an initial state or "seed" for the random number generator using its constructor `Random(long seed)`. This allows generating the same sequence of numbers every time the program runs.

:p How do you generate repeatable random sequences?
??x
To generate a repeatable sequence of random numbers, you can create an instance of `java.util.Random` with a fixed seed value. For example:
```java
Random r = new Random(42); // Using 42 as the seed
```
This ensures that every time the program runs, it generates the same sequence of random numbers.
x??

---

#### Random Number Generation and Distributions
Background context explaining how pseudo-random number generators (PRNGs) work, with a focus on `java.util.Random` for generating flat distributions and its limitations. The importance of cryptographic uses is highlighted via `java.security.SecureRandom`.

:p What are the key differences between `java.util.Random` and `java.security.SecureRandom`?
??x
The key difference lies in their use cases and security requirements. `java.util.Random` is intended for general-purpose, non-cryptographic applications where speed is more critical than cryptographic strength. It generates pseudo-random numbers using a linear congruential generator (LCG) algorithm.

On the other hand, `java.security.SecureRandom` provides cryptographically strong random numbers suitable for cryptographic purposes such as key generation and secure communication. It uses hardware entropy sources to enhance randomness quality, making it more secure against certain attacks compared to `java.util.Random`.

```java
// Example of using java.util.Random
Random rand = new Random();
int randomNumber = rand.nextInt(100);

// Example of using java.security.SecureRandom for cryptography
SecureRandom secureRand = new SecureRandom();
byte[] randomBytes = secureRand.generateSeed(32);
```
x??

---

#### Matrix Multiplication in Java
Background context explaining the need to multiply two-dimensional arrays, which is common in mathematical and engineering applications. Mention that while real-world solutions might use specialized libraries like EJML or ND4J for efficiency and accuracy, a simple implementation can help understand the underlying concepts.

:p How do you implement matrix multiplication in Java?
??x
To implement matrix multiplication in Java, we need to follow these steps:

1. Ensure both matrices are rectangular.
2. Validate that the number of columns in the first matrix matches the number of rows in the second matrix.
3. Create a result matrix with dimensions equal to the number of rows in the first matrix and the number of columns in the second matrix.
4. Use nested loops to perform the multiplication by iterating over each element of the resulting matrix.

Here is the implementation:

```java
public class Matrix {
    public static int[][] multiply(int[][] m1, int[][] m2) {
        int m1rows = m1.length;
        int m1cols = m1[0].length;
        int m2rows = m2.length;
        int m2cols = m2[0].length;

        if (m1cols != m2rows)
            throw new IllegalArgumentException("matrices don't match: " + m1cols + " != " + m2rows);

        int[][] result = new int[m1rows][m2cols];

        // Multiply
        for (int i = 0; i < m1rows; i++) {
            for (int j = 0; j < m2cols; j++) {
                for (int k = 0; k < m1cols; k++) {
                    result[i][j] += m1[i][k] * m2[k][j];
                }
            }
        }

        return result;
    }

    public static void mprint(int[][] a) {
        int rows = a.length;
        int cols = a[0].length;

        System.out.println("array[" + rows + "][" + cols + "] = {");
        for (int i = 0; i < rows; i++) {
            System.out.print("{");
            for (int j = 0; j < cols; j++)
                System.out.print(" " + a[i][j] + ",");
            System.out.println("},");
        }
        System.out.println("};");
    }
}
```

The `multiply` method takes two matrices (`m1` and `m2`) as input, checks if their dimensions are compatible for multiplication, creates the result matrix, and performs the necessary calculations. The `mprint` method is a utility to print out the matrix in a readable format.
x??

---

#### Example Matrix Multiplication
Background context explaining that while specialized libraries like EJML or ND4J can be used in real-world applications, understanding basic concepts through simple implementations helps build foundational knowledge.

:p What are the steps involved in multiplying two matrices?
??x
To multiply two matrices, follow these steps:

1. **Check Dimensions**: Ensure both matrices have compatible dimensions for multiplication.
2. **Create Result Matrix**: Initialize a new matrix with appropriate dimensions to store the result.
3. **Nested Loops**: Use nested loops to calculate each element of the result matrix by performing dot products.

Here's how it works in detail:

1. **Dimensions Check**: Verify that the number of columns in the first matrix matches the number of rows in the second matrix.
2. **Result Matrix Initialization**: Create a new matrix with dimensions equal to `rows` (of the first matrix) and `columns` (of the second matrix).
3. **Multiplication Calculation**: Use three nested loops:
   - Outer loop iterates over each row of the first matrix.
   - Middle loop iterates over each column of the second matrix.
   - Inner loop calculates the dot product for each element.

Example implementation:

```java
public class Matrix {
    public static int[][] multiply(int[][] m1, int[][] m2) {
        int m1rows = m1.length;
        int m1cols = m1[0].length;
        int m2rows = m2.length;
        int m2cols = m2[0].length;

        if (m1cols != m2rows)
            throw new IllegalArgumentException("matrices don't match: " + m1cols + " != " + m2rows);

        int[][] result = new int[m1rows][m2cols];

        // Multiply
        for (int i = 0; i < m1rows; i++) {
            for (int j = 0; j < m2cols; j++) {
                for (int k = 0; k < m1cols; k++) {
                    result[i][j] += m1[i][k] * m2[k][j];
                }
            }
        }

        return result;
    }

    public static void mprint(int[][] a) {
        int rows = a.length;
        int cols = a[0].length;

        System.out.println("array[" + rows + "][" + cols + "] = {");
        for (int i = 0; i < rows; i++) {
            System.out.print("{");
            for (int j = 0; j < cols; j++)
                System.out.print(" " + a[i][j] + ",");
            System.out.println("},");
        }
        System.out.println("};");
    }
}
```

This code demonstrates how to multiply two matrices and print the result.
x??

---

