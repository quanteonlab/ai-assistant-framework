# Flashcards: 2B001--Financial-Data-Engineering_processed (Part 11)

**Starting Chapter:** Permanence

---

#### Authenticity in Financial Identifiers
Authenticity refers to the ability of a financial identification system to confirm whether a specific identifier was generated by it. This is similar to verifying if a watch labeled Rolex is indeed an authentic Rolex. In financial systems, identifiers are often designed following specific symbology specifications—formulas or standardized formats. To ensure authenticity, check digits are commonly added to the end of identifier strings.
:p What does authenticity in financial identification mean?
??x
Authenticity ensures that a financial identifier can be verified as genuine based on its generation by the specified system and adherence to predefined rules.
x??

---

#### Granularity in Financial Identification Systems
Financial markets often involve hierarchical arrangements within and between entities, such as asset origination chains, trading contexts, organizational structures, ownership hierarchies, asset classifications, sector classifications, packaged transactions, complex financial instruments, and fund industry structures. A granular identification system can reflect these different levels of detail.
:p What does granularity in financial identification systems mean?
??x
Granularity refers to the ability of a financial identification system to scale and provide detailed information at various hierarchical levels within entities or markets.
x??

---

#### Illustration of Granularity (Figure 3-4)
The example in Figure 3-4 shows two identification systems: one nongranular, which uses the same identifier for an entity across all levels; and another granular, which assigns a unique identifier to each level. The granular system is more precise as it distinguishes between different hierarchical levels.
:p What does the illustration in Figure 3-4 demonstrate?
??x
The illustration demonstrates the difference between nongranular and granular identification systems, showing that a granular system provides unique identifiers for each hierarchical level, whereas a nongranular system uses the same identifier across all levels.
x??

---

#### Permanence of Financial Identifiers (Figure 3-5)
Permanence in financial identification ensures that identifiers and their associated data are stored permanently, allowing tracking and referencing over time. A permanent system retains data from past transactions even if a customer closes an account or the system is replaced with a new one.
:p What does permanence mean in financial identifier systems?
??x
Permanence means that financial identifiers and their related data remain stored indefinitely, enabling long-term tracking and reference of financial instruments and transactions. This is crucial for maintaining market trust and confidence.
x??

---

#### Permanent vs Nonpermanent Identification Systems (Figure 3-5)
The example in Figure 3-5 shows the difference between a permanent and nonpermanent identification system. A permanent system retains data over time, while a nonpermanent one may not maintain historical records if the system changes or is replaced.
:p How do permanent and nonpermanent identification systems differ?
??x
Permanent identification systems retain associated data indefinitely, whereas nonpermanent ones might lose historical data when the system is updated or replaced. This distinction is important for maintaining consistent tracking of financial instruments over time.
x??

---

#### Examples of Check Digits Calculation
Check digits are often used to ensure the authenticity of identifiers by adding a digit at the end that can be verified using an algorithm. The check digit ensures that the identifier adheres to specific rules, such as a formula or standardized format.
:p What is a common method for ensuring the authenticity of financial identifiers?
??x
A common method involves adding a check digit to the end of the identifier string and verifying it using a predefined algorithm. This helps ensure the identifier's validity by confirming that it adheres to specified rules.
x??

---

#### Hierarchical Arrangements in Financial Markets (Asset Origination Chain, Trading Context)
Hierarchical structures are prevalent in financial markets. For example, an asset origination chain might start with a company issuing securities, which can be broken down into stocks and specific classes of shares. Similarly, trading contexts can have international, national, and market levels.
:p Provide an example of a hierarchical arrangement in financial markets.
??x
An example of a hierarchical arrangement is the asset origination chain: a company issues securities, which are then broken down into different types of stocks (e.g., common stocks) and specific issues. Trading contexts can also be hierarchical, with international levels at the top, followed by national and market-specific levels.
x??

---

#### Fund Industry Structures
In the fund industry, umbrella funds allow for the creation of multiple subfunds, each with distinct investment strategies tailored to different investor needs. These subfunds are further divided into various share classes.
:p What is an example of a hierarchical structure in the fund industry?
??x
An example of a hierarchical structure in the fund industry is the use of umbrella funds, which contain multiple subfunds with distinct investment strategies and tailored share classes for different investor needs.
x??

---

#### Immutability of Identifiers
Background context: In a robust financial identification system, identifiers must remain immutable over time. This means an identifier should not change or be reassigned to another entity after it is assigned. If an entity ceases to exist, its identifier should never be reused. Temporal immutability ensures transparency and traceability.
:p What does temporal immutability ensure in a financial identification system?
??x
Temporal immutability ensures that identifiers do not change over time and are consistently used throughout the lifecycle of a transaction or an entity's financial activities. This maintains transparency, traceability, and effective monitoring.
x??

---

#### Mutable versus Immutable Identifiers
Background context: The text provides examples to illustrate mutable and immutable identifiers. Identifier A is immutable as it remains the same for all entities over time. Identifier B changes for different entities in 2022, making it mutable.
:p Identify an example of a mutable identifier from Table 3-2?
??x
Identifier B is mutable because the entity's identifiers change between 2005 and 2022. For instance, Entity 1 had XZY743 in 2005 but KKH654 in 2022.
x??

---

#### Corporate Events Impact on Identifiers
Background context: Corporate events such as mergers, acquisitions, spin-offs, corporate restructuring, and rebranding can result in the creation of a new entity or changes to an existing one. In these cases, a new identifier may be assigned.
:p How do corporate events potentially affect financial identifiers?
??x
Corporate events like mergers, acquisitions, spin-offs, and rebranding can change the structure of companies, leading to the creation of new entities that require unique identifiers. This impacts existing identifiers by possibly necessitating their reuse or replacement.
x??

---

#### Security Considerations in Financial Identification Systems
Background context: Designing a financial identification system must prioritize security due to its vulnerability to malicious attacks. An attacker could change identifiers irreversibly, causing significant damage. Additionally, sensitive data can be compromised and used for financial crimes.
:p What are the key security concerns when designing financial identification systems?
??x
The key security concerns include protecting against attackers who might change identifiers irreversibly or compromise sensitive data to commit financial crimes. Ensuring that identifiers remain immutable is crucial to maintaining system integrity and preventing unauthorized changes.
x??

---

#### International Securities Identification Number (ISIN)
Background context: ISIN is a 12-character alphanumeric code defined by ISO 6166, uniquely identifying various financial securities like stocks, bonds, derivatives, and fund share classes. It includes the country code, security identifier, and a check digit.
:p What is the structure of an ISIN?
??x
The structure of an ISIN consists of three parts: 
- The first two characters are the ISO 3166-1 alpha-2 code of the issuing country.
- The next nine alphanumeric characters represent the security identifier (NSIN).
- The last character is a check digit calculated using the Luhn algorithm.

Example:
```text
DE000A1B2C3D4 - Germany, Security Identifier: 000A1B2C3D4, Check Digit: 4
```
x??

---

#### Limitations of ISIN
Background context: The ISIN does not specify trading location or currency. It also cannot provide detailed contract terms for a security type and becomes inactive following corporate actions.
:p What are the limitations of the ISIN system?
??x
The limitations of the ISIN include:
- Lack of information on trading location or currency.
- Limited detail about contract terms or variations within a security type.
- Inactivity or replacement after corporate events like mergers, acquisitions, and stock splits.

Example: IBM’s common stock has one ISIN for each security regardless of the exchange platform.
x??

---

#### Luhn Algorithm
Background context: The Luhn algorithm is a checksum formula used to validate financial identifiers like ISIN. It helps in protecting against errors by ensuring valid identifiers are distinguishable from incorrect ones.
:p What is the purpose of the Luhn algorithm?
??x
The purpose of the Luhn algorithm is to validate financial identifiers such as ISINs, helping to detect errors and ensure that identifiers are correct. It does not provide security but helps in maintaining data integrity.

Steps:
1. Remove the check digit (if present).
2. Double every second digit from right.
3. Sum all digits.
4. If the total modulo 10 is 0 (or closest to 0), then it's valid.

Example Code:
```java
public class LuhnAlgorithm {
    public boolean validate(String identifier) {
        int sum = 0;
        boolean alternate = false;
        
        for (int i = identifier.length() - 1; i >= 0; i--) {
            if (alternate && ((2 * Character.getNumericValue(identifier.charAt(i))) > 9)) {
                sum += (2 * Character.getNumericValue(identifier.charAt(i))) - 8;
            } else {
                sum += Character.getNumericValue(identifier.charAt(i));
            }
            
            alternate = !alternate;
        }

        return (sum % 10) == 0;
    }
}
```
x??

---

#### ISIN Check Digit Validation Process
Background context: The International Securities Identification Number (ISIN) is a unique identifier for financial instruments, used to facilitate transactions. To ensure its validity, a check digit validation process is applied using specific rules.

The steps are as follows:
1. Convert the country letters in the ISIN to digits by subtracting 55 from their ASCII values.
2. Remove the check digit to get the payload.
3. Double every second digit starting from the right and sum up these doubled digits, reducing any number greater than 9 to a single digit.
4. Sum all the digits obtained.
5. Compute the modulus 10 of the sum as (10 - (sum mod 10)) mod 10.
6. If this result matches the check digit, then the ISIN is valid.

:p What are the steps involved in validating an ISIN number using its check digit?
??x
The steps involve converting the country letters to digits, removing the check digit, doubling every second digit from the right, summing all digits including those obtained by reducing doubled numbers greater than 9, computing a specific modulus 10 operation, and comparing the result with the check digit.

Code Example:
```python
def validate_isin(isin):
    # Step 1: Convert country letters to digits
    isin_digits = [ord(char) - 55 for char in isin[:-1] if char.isalpha()]
    
    # Step 2: Remove the check digit
    payload = isin[:-1]
    
    # Step 3: Double every second digit from the right and sum them up
    def double_and_sum(digit):
        doubled_digit = int(digit) * 2
        if doubled_digit > 9:
            return (doubled_digit // 10 + doubled_digit % 10)
        else:
            return doubled_digit
    
    # Extract digits from payload and apply the function to every second digit
    for i in range(1, len(payload), 2):
        isin_digits.append(double_and_sum(payload[i]))
    
    # Step 4: Sum all the digits
    total_sum = sum(isin_digits)
    
    # Step 5: Compute (10 - (sum mod 10)) mod 10
    check_digit = (10 - (total_sum % 10)) % 10
    
    # Step 6: Check if the computed check digit matches the last character of the ISIN
    return isin[-1] == str(check_digit)
```
x??

---

#### CFI Code Structure
Background context: The Classification of Financial Instruments (CFI) is a six-letter code used to describe and classify financial instruments, defined by ISO 10962. It consists of:
- The first letter indicating the instrument category.
- The second letter denoting the subcategory.
- The remaining four letters representing various attributes.

:p What does the CFI code structure represent?
??x
The CFI code structure represents a standardized classification system for financial instruments, where each part of the six-letter code denotes specific characteristics: the first letter indicates the category, the second the subcategory, and the last four letters describe various attributes. For example, "ESVXXX" stands for equity (E), common/ordinary share with voting rights (S and V).

Example CFI codes:
- ESVXXX: Equity, Common/Ordinary Share, Voting Rights.
- FXXXXX: Futures.
- OCXXXX: Option of type call.

x??

---

#### ISIN Validation Example
Background context: An example is provided to illustrate the process of validating an ISIN number using its check digit. The specific ISIN used here is US5949181045, with steps explained for clarity.

:p Provide a step-by-step explanation for validating the ISIN US5949181045.
??x
To validate the ISIN US5949181045:

1. Convert country letters to digits:
   - U (ASCII 85) -> 30
   - S (ASCII 83) -> 28
   Result: 30285949181045

2. Remove the check digit (5):
   Payload: 3028594918104

3. Double every second digit from the right:
   - Starting with '4' -> 4 * 2 = 8
   - Next '1' -> 1 * 2 = 2, but since 2 > 9, sum of digits: 2 + 0 = 2
   - Then '0' -> 0 * 2 = 0
   - Continue this for all relevant positions.

4. Sum up the resulting digits:
   [8], 30, 56, 18, 9, 8, 9, 2, 8, 2, 0

5. Calculate the modulus 10 operation and determine the check digit:
   Total sum = 65
   Check digit: (10 - (65 % 10)) % 10 = 5

6. The final computed check digit matches the original one, confirming validation.

x??

---

#### FISN Code Structure
Background context: The Financial Instrument Short Name (FISN) is a human-readable code used globally to provide consistent, uniform, and transparent descriptions of financial instruments. Since July 1, 2017, it has been assigned alongside ISINs and CFIs at the time of issuance.
The FISN code consists of up to 35 alphanumeric characters, with specific sections reserved for different parts:
- 15 characters for the issuer name
- A separator character “/”
- 19 characters for the description of the instrument

:p What is the structure of the FISN code?
??x
The FISN code structure consists of three main components: 
- 15 alphanumeric characters reserved for the issuer name.
- A single separator character “/”.
- 19 alphanumeric characters for the description of the financial instrument.

For example, a typical FISN might look like this:
```
Issuer Name/Instrument Description
```

x??

---

#### CUSIP Code Structure
Background context: The Committee on Uniform Security Identification Procedures (CUSIP) is an alphanumeric code used to identify securities in the United States and Canada. It serves primarily for trading, settlement, and clearing purposes.
The CUSIP code structure is as follows:
- 6 characters uniquely identify the issuer.
- 2 characters indicate the instrument type and issue using a hierarchical alphanumeric convention.
- 1 character acts as a check digit.

:p What are the components of a CUSIP code?
??x
A CUSIP code consists of three main parts:
1. **Issuer Identification**: The first six characters uniquely identify an issuer (company, municipality, agency).
2. **Instrument Type and Issue**: The next two characters identify the type and issue using a hierarchical alphanumeric convention.
3. **Check Digit**: The last character is a check digit used to validate the code.

For example:
- `023135` - identifies the issuer
- `10` - identifies the instrument type and issue
- `6` - check digit

x??

---

#### CUSIP Check Digit Validation
Background context: The CUSIP check digit ensures the accuracy of the code. It is calculated based on specific rules, which can be implemented in Python or other programming languages.
The steps to validate a CUSIP code are:
1. Convert non-numeric characters according to their ordinal position plus 9 (A = 10).
2. Replace * with 36, @ with 37, and # with 38.
3. Multiply every even digit by 2; if the result is a two-digit number, add the digits together.
4. Sum all values and get the floored value of (10 - (sum modulo 10)) modulo 10.

:p How can you validate a CUSIP code?
??x
To validate a CUSIP code, follow these steps:

1. Convert non-numeric characters according to their ordinal position plus 9.
2. Replace * with 36, @ with 37, and # with 38.
3. Multiply every even digit by 2; if the result is a two-digit number, add the digits together.
4. Sum all values and get the floored value of (10 - (sum modulo 10)) modulo 10.

Here is an example implementation in Python:

```python
def validate_cusip(cusip):
    # Step 1: Convert non-numeric characters
    mapping = {'A': '10', 'B': '11', 'C': '12', 'D': '13', 'E': '14', 
               'F': '15', 'G': '16', 'H': '17', 'I': '18', 'J': '19',
               '*': '36', '@': '37', '#': '38'}
    cusip = cusip.replace('*', mapping['*']).replace('@', mapping['@']).replace('#', mapping['#'])
    
    # Step 2: Convert to digits
    digits = [int(c) if c.isdigit() else int(mapping[c]) for c in cusip]
    
    # Step 3: Multiply even positions by 2 and sum the digits
    check_sum = 0
    for i, digit in enumerate(digits):
        if (i + 1) % 2 == 0:
            doubled_digit = digit * 2
            if doubled_digit > 9:
                check_sum += (doubled_digit // 10) + (doubled_digit % 10)
            else:
                check_sum += doubled_digit
        else:
            check_sum += digit
    
    # Step 4: Calculate the check digit
    check_digit = (10 - (check_sum % 10)) % 10
    
    return check_digit == digits[-1]
```

x??

---

#### CUSIP Entity Identifier (CEI)
Background context: The CUSIP Entity Identifier (CEI) is a new identifier introduced by CUSIP Global Services to identify legal parties involved in the syndicated lending market. It was developed with input from the Loan Syndications and Trading Association (LSTA) and syndicated loan solution providers.

:p What is the CUSIP Entity Identifier (CEI)?
??x
The CUSIP Entity Identifier (CEI) is a new identifier introduced by CUSIP Global Services to identify legal parties involved in the syndicated lending market. It was developed with input from the Loan Syndications and Trading Association (LSTA) and syndicated loan solution providers.

CEI enhances the identification process for participants in the syndicated lending market, providing more specific information compared to traditional CUSIP codes.

x??

---

#### Legal Entity Identifier (LEI)
Background context: The Legal Entity Identifier (LEI) is a 20-character alphanumeric code used globally to identify legal entities engaged in financial transactions. Each LEI contains detailed ownership information about an entity.
The LEI answers questions such as "who is who" and "who owns whom," providing transparency in financial dealings.

:p What is the Legal Entity Identifier (LEI)?
??x
The Legal Entity Identifier (LEI) is a 20-character alphanumeric code used globally to identify legal entities engaged in financial transactions. Each LEI contains detailed ownership information about an entity, answering questions such as "who is who" and "who owns whom," thus providing transparency in financial dealings.

x??

---

#### Know Your Customer (KYC) Practices

Background context explaining the concept. KYC practices are crucial for financial institutions to verify their clients' identities and ensure regulatory compliance.

:p What is the purpose of KYC practices in financial markets?
??x
The primary purpose of KYC practices is to verify the identity of clients within financial institutions, ensuring regulatory compliance and preventing fraudulent activities.
x??

---

#### Legal Entity Identifier (LEI)

Background context explaining the concept. The LEI is a global, unique identifier for legal entities used primarily in financial transactions.

:p What is the structure of an LEI identifier?
??x
An LEI identifier has a specific structure:
- Characters 1 to 4 form the prefix that identifies the Local Operating Unit (LOU) that issued the LEI.
- Characters 5 to 18 constitute the entity identifier assigned by the LOU.
- Characters 19 and 20 are two check digits used for validation.

For example, an LEI could be structured as `Prefix-Entity-Identifier-DDD-CHECKDIGIT`.

```java
public class LEIIdentifier {
    private String prefix; // e.g., "2545"
    private String entityIdentifier; // e.g., "000000123456789012"
    private int checkDigit1;
    private int checkDigit2;

    public LEIIdentifier(String prefix, String entityIdentifier, int checkDigit1, int checkDigit2) {
        this.prefix = prefix;
        this.entityIdentifier = entityIdentifier;
        this.checkDigit1 = checkDigit1;
        this.checkDigit2 = checkDigit2;
    }

    // Methods to validate and retrieve parts of the LEI
}
```
x??

---

#### ISO 17442 Classification

Background context explaining the concept. ISO 17442 defines legal entities that should be assigned an LEI identifier.

:p According to ISO 17442, which types of entities are classified as legal entities?
??x
According to ISO 17442, the following types of entities are classified as legal entities:
- All financial intermediaries
- Banks and finance companies
- International branches
- Entities that issue equity, debt, or other securities for capital structures
- Entities listed on an exchange
- Business entities, pension funds, and investment vehicles such as collective investment funds (at umbrella and subfund levels) and special purpose vehicles with a legal form
- Entities under the purview of financial regulators and their affiliates, subsidiaries, and holding companies
- Sole traders

These classifications ensure that various types of business entities are covered by the LEI system.
x??

---

#### ANNA-GLEIF Initiative

Background context explaining the concept. This initiative aims to enhance market transparency by linking ISIN identifiers with LEI identifiers.

:p What is the goal of the ANNA-GLEIF initiative?
??x
The goal of the ANNA-GLEIF initiative was to associate ISIN identifiers with the LEI identifiers of their issuers, thereby enhancing market transparency and establishing a direct link between the issuer and the issuance of securities.
x??

---

#### Lehman Brothers Collapse

Background context explaining the concept. The collapse of Lehman Brothers in 2008 highlighted the need for standardized identification systems.

:p Why did the collapse of Lehman Brothers in 2008 lead to discussions about standardizing identification systems?
??x
The collapse of Lehman Brothers in 2008 led to discussions about standardizing identification systems because participants in the global financial system could not assess their exposure to Lehman, its subsidiaries, and each other due to a lack of a standard system for identifying counterparties. This issue became particularly evident when trying to calculate the total exposure of one institution to another across various subsidiaries.

For example, Lehman Brothers had 8,000 subsidiaries working in different jurisdictions, while Morgan Stanley had approximately 3,500 subsidiaries. The number of potential bilateral agreements and transactions between these entities was massive and complex, making it difficult to assess risk accurately without a standardized system.
x??

---

#### Legal Entity Identifier (LEI)
Background context: The LEI was developed by the ISO to provide a unique identifier for legal entities involved in financial transactions, helping institutions quickly aggregate their exposures and risk information. This standardization is crucial for managing large volumes of data across various systems.

:p What is the purpose of the Legal Entity Identifier (LEI)?
??x
The purpose of the LEI is to provide a unique global identifier for legal entities engaged in financial transactions, facilitating rapid aggregation of exposure and risk information among financial institutions. This standardization helps streamline operations and improve efficiency.
x??

---

#### Entity Legal Forms (ELF)
Background context: The ELF, described in ISO 20275, provides a standardized four-character code to uniquely identify entity forms/types globally. GLEIF maintains these codes for access.

:p What is the purpose of Entity Legal Forms (ELF)?
??x
The purpose of Entity Legal Forms (ELF) is to offer a standardized way to represent different types of entities using a four-character code, ensuring consistent and unique identification across global systems.
x??

---

#### Transaction Identifiers
Background context: Unique transaction identifiers are crucial for financial transactions as they help in unambiguously identifying transactions and related messages across disparate systems. This becomes essential with the increasing complexity of financial operations.

:p What is the purpose of unique transaction identifiers?
??x
The purpose of unique transaction identifiers is to ensure that each transaction can be unambiguously identified throughout its lifecycle, facilitating accurate tracking and reporting in complex financial environments.
x??

---

#### Unique Swap Identifier (USI)
Background context: The USI is a fixed-length identifier used for uniquely identifying swap transactions in the United States. It was mandated by the Commodity Futures Trading Commission (CFTC) and the Securities and Exchange Commission (SEC) as part of the Dodd-Frank Act.

:p What is the Unique Swap Identifier (USI)?
??x
The Unique Swap Identifier (USI) is a fixed-length identifier used to uniquely identify swap transactions in the United States, ensuring consistent tracking and reporting across financial systems.
x??

---

#### Unique Trade Identifier (UTI)
Background context: The UTI standard, specified by ISO 23897, aims to provide global transaction identifiers for facilitating consistent transaction reporting, traceability, and reducing operational errors. It builds on the USI but is designed for broader international use.

:p What is the purpose of the Unique Trade Identifier (UTI)?
??x
The purpose of the Unique Trade Identifier (UTI) is to standardize transaction identifiers globally, ensuring unique identification throughout a financial transaction's lifecycle, which is crucial for facilitating transaction reporting, improving traceability, and reducing operational errors.
x??

---

#### ISDA-based UTI Structure
Background context: The ISDA working group proposed a best practice recommendation for the UTI structure, where the prefix consists of characters 7–16 of the LEI, followed by a 32-character string.

:p What is an example of an ISDA-based Unique Trade Identifier (UTI) structure?
??x
An example of an ISDA-based UTI structure includes:
- Prefix: Characters 7–16 of the LEI
- Suffix: A 32-character string

For instance, if the LEI prefix is "980X2RBBGBG4", and a unique transaction string is "ABCD1234567890", the UTI would be structured as follows:

UTI = 980X2RBBGBG4ABCD1234567890

This structure ensures a consistent and standardized format for identifying financial transactions globally.
x??

---

